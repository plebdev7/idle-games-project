---
description: Project management slash commands for evidence-based session workflows
alwaysApply: true
---

# Slash Commands System
> Authority: See authority.mdc

**Session-based project management with evidence trails across multiple work sessions.**

## Commands
- **`/analyze project [context]`** (`/a`) - Analysis & research sessions 【PLAN】
- **`/design project [context]`** (`/d`) - Design & planning sessions 【PLAN】  
- **`/implement project [context]`** (`/i`) - Implementation & testing sessions 【PLAN】
- **`/close`** (`/c`) - Session closure, results verification, & documentation finalization 【VALIDATE】

## Workflow
1. Command loads project history from `agent-work/{project_name}/`
2. Creates session doc from `.cursor/rules/templates/` 【PLAN】
3. Session files use incremental numbering: `{number}-{descriptive-name}.md` (e.g., `003-performance-optimization.md`)
4. Guided work with evidence collection 【VALIDATE】 
5. `/close` finalizes docs + updates progress tracking 【STOP】

## Directory Structure
```
agent-work/
└── {project_name}/          # Project name from user input
    ├── progress-tracking.md  # Master project tracking (auto-updated by /close)
    ├── analysis/
    │   ├── 001-descriptive-name.md
    │   └── 002-descriptive-name.md
    ├── design/
    │   ├── 001-descriptive-name.md
    │   └── 002-descriptive-name.md
    └── implementation/
        ├── 001-descriptive-name.md
        └── 002-descriptive-name.md
```

## Mandatory Command Workflows

### `/analyze` Requirements 【PLAN】
1. **Parse & Setup**: Extract project name, create directories, load history
2. **Previous Work Review**: MUST read and summarize ALL previous sessions (analysis/design/implementation)
3. **Objective Definition**: Clear 1-2 sentence objectives, get user confirmation
4. **Investigation Plan**: MUST create 3-5 specific investigation steps before starting
5. **Evidence Collection**: Document findings with sources, avoid speculation
6. **Cross-Reference**: MUST reference specific previous session findings
7. **Recommendations**: Provide clear next steps for design/implementation

### `/design` Requirements 【PLAN】
1. **Parse & Setup**: Extract project name, create directories, load history  
2. **Analysis Synthesis**: MUST summarize key analysis findings that inform design
3. **Architecture Planning**: Reference previous design sessions, build incrementally
4. **Decision Documentation**: Document WHY decisions were made, not just what
5. **Implementation Roadmap**: Break design into specific implementation phases
6. **Cross-Reference**: MUST link to specific analysis findings and previous designs
7. **Validation**: Ensure design addresses analysis objectives

### `/implement` Requirements 【PLAN】
1. **Parse & Setup**: Extract project name, create directories, load history
2. **Design Reference**: MUST explicitly reference design decisions being implemented  
3. **Previous Implementation Review**: Build upon previous implementation sessions
4. **Incremental Planning**: Plan specific additions/changes, not full rewrites
5. **Testing Strategy**: Define how implementation will be validated
6. **Cross-Reference**: MUST link to specific design sections and previous implementations
7. **Progress Documentation**: Update what was completed vs planned

### `/close` Requirements 【VALIDATE】
1. **Session Documentation**: Complete ALL template sections with evidence
2. **Progress Update**: Update progress-tracking.md with ONLY critical info (see Concise Tracking Rules)
3. **Cross-Reference Links**: Ensure session links to relevant previous work
4. **Next Steps**: Define clear objectives for next session type
5. **Knowledge Extraction**: Add key learnings and decisions to knowledge base
6. **Validation**: Verify all action tags completed and evidence collected

## Concise Tracking Rules

### Progress Tracking: Include ONLY
- **Session Summary**: 1 sentence objective + 1 sentence outcome
- **Key Decisions**: Architecture choices, technology selections, design patterns
- **Critical Blockers**: Only unresolved issues that block future work
- **References**: Links to specific session files for detailed evidence
- **Metrics**: Simple counts (sessions, components, tests) - no verbose descriptions

### Progress Tracking: EXCLUDE
- ❌ Detailed task breakdowns (belongs in session files)
- ❌ Step-by-step implementation details (belongs in session files)  
- ❌ Code snippets and technical specifics (belongs in session files)
- ❌ Verbose learning summaries (1-line references only)
- ❌ Repeated information from session files
- ❌ Implementation debugging details (belongs in session files)

### Length Limits
- **Session Summary**: Max 2 sentences
- **Knowledge Base sections**: Max 5 bullet points each
- **Total file**: Target 50-75 lines, never exceed 100 lines
- **Evidence location**: "See [session-file] for detailed analysis/implementation"

## Cross-Referencing Requirements

### Mandatory Session Links
- **Analysis**: MUST link to specific findings in previous analysis sessions
- **Design**: MUST reference analysis findings that inform each design decision
- **Implementation**: MUST link to specific design sections being implemented
- **All Sessions**: MUST build incrementally on previous work, not restart from scratch

### Reference Format
- **Specific**: "As identified in analysis-003, the authentication flow requires..." 
- **Not Generic**: "Previous analysis showed..." 
- **Link Evidence**: "See design-001 section 3.2 for component hierarchy"
- **Decision Context**: "Building on implementation-005, we now add..."

### Knowledge Continuity
- Each session MUST demonstrate awareness of previous work
- Decisions MUST reference prior analysis/design work
- Implementation MUST explicitly build upon previous implementations
- Architecture decisions MUST be preserved and extended, not replaced

### Missing Data Handling
- **Missing history files**: Create empty directory structure, use "No previous sessions" 
- **Undefined variables**: 【STOP】 Alert user about missing required data, request clarification
- **Invalid cross-references**: 【STOP】 Alert user about broken references, request correction
- **Missing progress tracking**: Create new file from template with current session

## Templates
- `/analyze` uses `.cursor/rules/templates/analysis-session-template.md`
- `/design` uses `.cursor/rules/templates/design-session-template.md`
- `/implement` uses `.cursor/rules/templates/implementation-session-template.md`
- Master tracking uses `.cursor/rules/templates/progress-tracking-template.md`